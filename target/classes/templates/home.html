<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="stylesheet" th:href="@{/css/homeStyle.css}" />
<script type="text/javascript" th:src="@{/script/noteCrud.js}"></script>
<meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" />
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>
 <!--  <script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script> -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


<title>ToDo</title>

 <script type="text/javascript">
$('#date').datepicker({ 
	dateFormat: 'dd-mm-yyyy' 
	}); 

	
	/* $(function () {
		   var bindDatePicker = function() {
				$(".date").datetimepicker({
		        format:'dd-mm-yyyy',
					
				})
		   bindDatePicker();
		 }); */
</script>

</head>
<body id="body">
<nav class="navbar navbar-inverse">
  <div class="container-fluid" id="topNavigation" style="background-color:#ffbb33; ">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" onclick="openNav()">
			<span style="font-size: 25px; margin-left: 50%; cursor: pointer">&#9776;</span></a>
      <a class="navbar-brand">FunDo Keep</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
       <ul class="nav navbar-nav navbar-right">
		<!-- <li ng-click="ListViewToggle()"><img ng-if="!ListView" height="30px" alt="gride" src="images/gridView.svg">
		<img ng-if="ListView" height="30px" alt="list" src="images/listView.svg"></li> -->
			<li>
				<div class="dropdown">
					<span class="btn dropdown-toggle" id="menu1" type="button" data-toggle="dropdown">
						<!-- <img alt="{{User.userName.charAt(0)}}" class="img-circle" height="50" width="70" ng-src="{{User.profile}}" > -->
						<span class="glyphicon glyphicon-user"></span>
					</span>
					<ul class="dropdown-menu" role="menu" style="background-color: white; padding-left: 10px" aria-labelledby="menu1">
						
						<li     style="height: 100px;width: 200px;">
						<br/>
						<div th:text="${user1.userName}"></div>
						<div th:text="${user1.userEmail}"></div>
						
						</li>
						<!-- <li><button ng-click="openImageUploader('user')" style="background-color: blue; color: white">Change Profile</button></li> -->
						<li onclick="logout()">logout</li>
					</ul>
				</div>
			</li>
		</ul>
    </div>
  </div>
</nav>

<br/>

<div id="mySidenav" class="sidenav">
  <span type="button"  data-toggle="modal" data-target="#myModal" style="margin-left: -185px;">Add-Note</span>
 <!--  <button type="button"  data-toggle="modal" data-target="#myModal">Add-Note</button>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Clients</a>
  <a href="#">Contact</a> -->
  
  <ul >
		<li ><a th:href="${'/home'}" style="margin-left: -253px;">Notes</a></li>

		<li><a th:href="${'/Reminder'}" style="margin-left: -253px;">Reminder</a></li>
		<li><a th:href="${'/Trash'}" style="margin-left: -253px;">Trash</a></li>
		<li><a th:href="${'/Archive'}" style="margin-left: -253px;">Archive</a></li>
		<!--style="margin-left: 35px;
		<li style="margin-left: -20px;">Label <span ng-click="openAddNewLabel()" id="labelEdit">EDIT</span></li>
		
		<li ng-repeat="label in Listlabel">
		<img alt="label" src="images/label.svg" height="20px" style="margin-right: 5px;">
		<a ui-sref="LabelPage({labelName:label.labelName})">	{{label.labelName}}</a>
		</li>
		<li ng-click="openAddNewLabel()" style="margin-left: -20px;">Create new label</li>

		<li><a href="#!/Trash">Trash</a></li>
		
		<li><a href="#!/Archive">Archive</a></li> -->

	</ul>
  
  
</div>
<div id="myNote" style="margin-left: 30px;">	
<div class="container">
  <!-- Trigger the modal with a button -->
 <!--  <button type="button"  data-toggle="modal" data-target="#myModal">Add-Note</button> -->

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add new Note</h4>
        </div>
        <div class="modal-body">
        <!--  <b> <div  data-text="Title" contentEditable="true" id="title"></div></b>
							<br>
		<div contentEditable="true" data-text="Take a note..." id="description" style="margin-bottom: 5px"></div>
							<br> -->
		<form action="#" th:action="@{/addNote}" th:object="${note}" method="POST"> 
         <input type="text"  id="title" th:field="*{title}" /><br/>
		<input type="text" id="description" th:field="*{description}" /><br/>
		<input type="submit"  value="add"/>
   </form>
   
   <!-- <form action="#" th:action="@{/addNote}" th:object="${note}" method="POST">
         <input type="text" th:field="*{title}" /><br/>
		<input type="text" th:field="*{description}" /><br/>
		<input type="submit" th:value="submit" />
   </form> -->
      </div>
      
    </div>
  </div>
  
</div>
</div>
		
		
		
		<div class="row">
		<div >Pin Notes</div>
		<div th:each="note : ${notes}" id="card" th:if="${note.archive!='true' && note.trash!='true' && note.pin=='true'}">
		
		<div id="moreOptions" style="float: right">
		 
		 <a th:href="${'/other/6/' + note.id}"><span><img alt="pin"
							th:src="@{images/bluepin.svg}" height="20px"></span></a>
					</div>
		
		 	<div th:text="${note.title}" id="tit"></div>
		 	<div th:text="${note.description}" id="deSs"></div>
		 	


				<div class="input-group date" data-provide="datepicker">
					<input type="text" class="form-control" id="date" name="date"></input>
					<div class="input-group-addon">
						<span class="glyphicon glyphicon-th"></span>
					</div>
				</div>

				<br/><br/>
				<div th:if="${note.reminder!=''}" th:text="${note.reminder}"></div>
				<div th:each="color : ${colors}">
					<button th:onclick="'addColor('+*color.color+')'">color</button>
				</div>
				
		 	<div id="moreOptions">

					<div class="dropdown" style="float: left">
						<!-- <img alt="reminder" th:src="@{images/reminder.svg}"
							height="20px" style="margin-left: 0px">  -->
							
							<span class="btn dropdown-toggle" id="menuRemind"
							data-toggle="dropdown"> <img alt="reminder"
							th:src="@{images/reminder.svg}" height="20px" style="padding: 0px;">
						</span>

						<ul class="dropdown-menu" role="menu" aria-labelledby="menuRemind">
							<li><input type="date" name="bday" id="datepicker"
								class="reminder" ></li>
							<!-- <li><div th:onclick="'addReminder('+ *{note.id} +')'">
									<span>add</span>
								</div></li>
							<li><div th:onclick="'laterToday('+ *{note.id} +')'">
									<span>Tommorow 8AM</span>
								</div></li> -->
							<li><div><a th:href="${'/reminder/2/' + note.id}">
									<span>Tommorow 8AM</span></a>
								</div></li>
							<li><div ><a th:href="${'/reminder/1/' + note.id}">
									<span>Next week</span></a>
								</div></li>
						</ul>



						<img alt="collaborator" th:src="@{images/collaborator.png}"
							height="20px" style="margin-left: 0px">

						<img alt="color" th:src="@{images/color.svg}"
							height="20px" style="margin-left: 0px">

						<img alt="image" th:src="@{images/image.svg}"
							height="20px" onclick="openImageUploader(note)">
							<!-- <input id="imageuploader" ng-show="false" type="file"
							ng-file-select="onFileSelect($files)" ng-model="imageSrc"> -->

					<a th:href="${'/other/1/' + note.id}"><span><img alt="archive"
							th:src="@{images/archive.svg}" height="20px"></span></a>
						
						<!-- <img alt="more" th:src="@{images/more.svg}"
							height="20px" style="margin-left: 0px"> -->

					</div>
						<div style="float: right" class="dropdown">
							<span class="btn dropdown-toggle" id="menu1" data-toggle="dropdown">
								<span class="glyphicon glyphicon-option-vertical"></span>
							</span>
							<ul class="dropdown-menu" role="menu" aria-labelledby="menu1"
								style="margin-left: 0px;">
								<!-- <li><a ng-click="deleteNote(note)">Delete</a></li> -->
								<li><a th:href="*{note.id}" th:onclick="'edit('+ *{note.id} +')'">EDIT</a></li>
								<li><a th:href="${'/other/3/' + note.id}" class="btn btn-danger">Delete</a></li>
								<li><a th:href="${'/edit/' + note.id}" class="btn btn-default">Edit</a></li>
						<!-- 		<li><a  ng-click="removeCollborator(note,user)" ng-show="note.owner.userEmail!=user.userEmail">Remove myself</a></li>
						 -->		<li><a th:href="${'/copy/' + note.id}">Make a Copy</a></li>
								<li><a ng-click="socialShare(note)">Social Share(fb)</a></li>
						
								<!-- <li class="dropdown-submenu"><a class="test" tabindex="-1">Add Label</a>
									<ul class="dropdown-menu">
										<li ng-repeat="label in Listlabel"><input type="checkbox"
											ng-click="toggleLabel(note,label)"
											ng-checked="checkStatus(note,label)">{{label.labelName}}</li>
									<li><input type="text" placeholder="Create new label" id="noteLabel" ng-model="userlabel"><span ng-click="addNoteLabel(note)">add</span></li>
						
									</ul></li> -->
							</ul>
						</div>
						
				</div>
		 	
		</div>
		<!-- </div> -->
        </div>
		
		
		<div class="row">
		<h3>Other Notes</h3>
		<div th:each="note : ${notes}" id="card" th:if="${note.archive!='true' && note.trash!='true' && note.pin!='true'}" th:style="'background-color: '+${note.color} +';'">
		<!-- 
		<div id="moreOptions" style="float: right">
		 
		 <a th:href="${'/other/5/' + note.id}"><span><img alt="pin"
							th:src="@{images/pin.svg}" height="20px"></span></a>
		 
							<span style="cursor: pointer"
								ng-click="note.pin=true; updateNote(note)"> 
								<img alt="pin" style="height: 17px" src="images/bluepin.svg"></img>
							</span>
					</div> -->
					
					<div id="moreOptions" style="float: right">
		 
		 <a th:href="${'/other/5/' + note.id}"><span><img alt="pin"
							th:src="@{images/bluepin.svg}" height="20px"></span></a>
		 
							<!-- <span style="cursor: pointer"
								ng-click="note.pin=true; updateNote(note)"> 
								<img alt="pin" style="height: 17px" src="images/bluepin.svg"></img>
							</span> -->
					</div>
		
		 	<div th:text="${note.title}" id="tit"></div>
		 	<div th:text="${note.description}" id="deSs"></div>
		 	<br/><br/>
		 	
		 	
		 	<!-- <div class="container">
  <div class="row">
    Date formats: yyyy-mm-dd, yyyymmdd, dd-mm-yyyy, dd/mm/yyyy, ddmmyyyyy
  </div>
  <br />
    <div class="row">
        <div class='col-sm-3'>
            <div class="form-group">
                <div class='input-group date' id='datetimepicker1'>
                    <input type='text' class="form-control" />
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div> -->
		 	<div th:if="${note.reminder!=''}" th:text="${note.reminder}"></div>
		 	<div id="moreOptions">

					<div class="dropdown" style="float: left">
						<img alt="reminder" th:src="@{images/reminder.svg}"
							height="20px" style="margin-left: 0px">

						<img alt="collaborator" th:src="@{images/collaborator.png}"
							height="20px" style="margin-left: 0px">

						<img alt="color" th:src="@{images/color.svg}"
							height="20px" style="margin-left: 0px">

						<img alt="image" th:src="@{images/image.svg}"
							height="20px" onclick="openImageUploader(note)">
							<!-- <input id="imageuploader" ng-show="false" type="file"
							ng-file-select="onFileSelect($files)" ng-model="imageSrc"> -->

					<a th:href="${'/other/1/' + note.id}"><span><img alt="archive"
							th:src="@{images/archive.svg}" height="20px"></span></a>
						
						<!-- <img alt="more" th:src="@{images/more.svg}"
							height="20px" style="margin-left: 0px"> -->

					</div>
						<div style="float: right" class="dropdown">
							<span class="btn dropdown-toggle" id="menu1" data-toggle="dropdown">
								<span class="glyphicon glyphicon-option-vertical"></span>
							</span>
							<ul class="dropdown-menu" role="menu" aria-labelledby="menu1"
								style="margin-left: 0px;">
								<!-- <li><a ng-click="deleteNote(note)">Delete</a></li> -->
								<li><a th:href="*{note.id}" th:onclick="'edit('+ *{note.id} +')'">EDIT</a></li>
								<li><a th:href="${'/other/3/' + note.id}" class="btn btn-danger">Delete</a></li>
								<li><a th:href="${'/edit/' + note.id}" class="btn btn-default">Edit</a></li>
						<!-- 		<li><a  ng-click="removeCollborator(note,user)" ng-show="note.owner.userEmail!=user.userEmail">Remove myself</a></li>
						 -->		<li><a th:href="${'/copy/' + note.id}">Make a Copy</a></li>
								<li><a ng-click="socialShare(note)">Social Share(fb)</a></li>
						
								<!-- <li class="dropdown-submenu"><a class="test" tabindex="-1">Add Label</a>
									<ul class="dropdown-menu">
										<li ng-repeat="label in Listlabel"><input type="checkbox"
											ng-click="toggleLabel(note,label)"
											ng-checked="checkStatus(note,label)">{{label.labelName}}</li>
									<li><input type="text" placeholder="Create new label" id="noteLabel" ng-model="userlabel"><span ng-click="addNoteLabel(note)">add</span></li>
						
									</ul></li> -->
							</ul>
						</div>
						
				</div>
		 	
		</div>
		<!-- </div> -->
        </div>
      </div>
      
      <div id="noteModal" class="model fade" role="dialog" th:fragment="modalContents">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title" th:text="${note.title}">Note title</h4>
				</div>
				<div class="modal-body">
					<p>Some text in the modal.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>
      
</body>

</html>